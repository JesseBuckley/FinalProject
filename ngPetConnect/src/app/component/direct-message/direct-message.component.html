<div class="direct-message-container">
  <h2>Direct Messages</h2>

  <!-- Error message section -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>

  <!-- Direct message list -->
  <div *ngIf="directMessages.length > 0; else noMessages">
    <div *ngFor="let message of directMessages" class="message">
      <div class="message-header">
        <span class="sender">{{ message.user.username }}</span>
        <span class="timestamp">{{ message.createdAt | date: 'medium' }}</span>
      </div>
      <div class="message-content">
        {{ message.content }}
      </div>
      <div class="message-actions">
        <!-- Add any actions you want to perform on the message, e.g., delete or reply -->
      </div>
    </div>
  </div>
  <ng-template #noMessages>
    <div class="no-messages">No direct messages available.</div>
  </ng-template>

  <!-- Add new direct message form -->
  <form (ngSubmit)="createDirectMessage()" class="new-message-form">
    <select [(ngModel)]="recipientId" name="recipientId" required>
      <option *ngFor="let user of users" [value]="user.id">{{ user.username }}</option>
    </select>
    <textarea [(ngModel)]="newDirectMessage.content" name="content" placeholder="Type your message here..." rows="4" required></textarea>
    <button type="submit" [disabled]="!newDirectMessage.content.trim()">Send</button>
  </form>
</div>
